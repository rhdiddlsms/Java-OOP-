# Class 클래스

- 자바의 모든 클래스와 인터페이스는 컴파일 후 class 파일로 생성됨.
- class파일에는 객체의 정보(멤버변수, 메서드, 생성자 등)가 포함됨.
- Class 클래스는 컴파일된 class 파일에서 객체의 정보를 가져올수 있음.

- `reflection 프로그래밍` : Class 클래스를 이용하여 클래스의 정보를 가져오고 이를 활용하여 인스턴스를 생성하고, 메서드를 호출하는 등의 프로그래밍 방식.

## Class.forName() 메서드로 동적 로딩 하기

프로그래밍 할 때는 어떤 클래스를 사용할지 모를 때 `변수`로 처리하고, 실행될 떄 해당 변수에 대입된 값의 클래스가 실행될 수 있도록 `Class 클래스에서 제공하는 static 메서드`

```java
String className = "class.Person";
Class pClass = Class.forName(className);
```
- 실행 시에 로딩(동적로딩)되므로 경우에 따라 다른 클래스가 사용될 수 있어 유용하다.
  - 동적로딩?
    - 컴파일 시에 데이터 타입이 모두 binding 되어 자료형이 로딩되는 것(static loading)이 아니라 실행 중에 데이터 타입을 알고 binding 되는 방식
- 컴파일 타임에 체크 할 수 없으므로 해당 문자열에 대한 클래스가 없는경우 예외(ClassNotFoundException)이 발생할 수 있다.

> 외부에서 소스 코드 없이 클래스만 제공 받아 사용할 경우에도 많이 사용된다.
>
> ex) 오라클의 JDBC드라이버 사용 등

```java
public class MyBook {
	private String title;
	public String author;
	
	public MyBook(String title) {
		this.title = title;
	}
	
	public String getTitle() {
		return title;
	}
	
	public void setTitle(String title) {
		this.title = title;
	}
}
```

위에 MyBook.class를 bin폴더에서 ClassForNameTest 폴더로 프로젝트로 복사 붙혀넣기 해준다.

그러면 예외처리가 가능해진다.

```java
import java.lang.reflect.Constructor;
import java.lang.reflect.Field;
import java.lang.reflect.Method;

//소스가 없는 Class파일을 외부에서 받았을 때 
public class ClassForNameTest {
	
	public static void main(String[] args) throws ClassNotFoundException
	{
		Class strClass = Class.forName("MyBook");
		
		//getConstructors 메소드를 통해서 출력
		Constructor[] cons = strClass.getConstructors();
		for(Constructor c : cons){
			System.out.println(c);
		}
		System.out.println("---------------------------");
		Field[] fields = strClass.getFields();
		for(Field f : fields){
			System.out.println(f);
		}
		System.out.println("----------------------------");
		Method[] methods = strClass.getMethods();
		for(Method m : methods){
			System.out.println(m);
		}
	}
}

```